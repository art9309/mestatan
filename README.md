Общее описание решения
«MEDSTATAN» представляет собой сервис на основе данных - совокупность дашбордов, включающих аналитические инструменты, позволяющие формировать динамические карты здоровья территории региона / муниципалитета, включающие в том числе:
•	Мониторинг и прогнозирование заболеваемости и смертности по направлениям заболеваний (с перспективой детализации до уровня отдельных поселений);
•	Оценку вклада факторов в отклонение уровня относительной заболеваемости на территории от среднего по России. В качестве факторов используются социально-экономические показатели территории; влияние соседних территорий; эффективность системы здравоохранения по направлениям заболеваний, рассчитанную на основе фиксированных эффектов.
Данное решение позволяет отвечать на следующие вопросы:

Оценивать Индекс распространенности заболеваний на территории (регион / муниципальное образование) – характеризует распространенность конкретных заболеваний / совокупности заболеваний относительно среднероссийского уровня;
Оценивать Индекс прироста распространенности заболеваний на территории (регион / муниципальное образование) – характеризует темпы прироста уровня распространения конкретных заболеваний / совокупности заболеваний на территории относительно среднероссийского уровня
Выявлять факторы, влияющие на уровень заболеваемости (по конкретным заболеваниям) на территории (регион / муниципальное образование), оценивать их влияние;
Оценивать Индекс эффективности системы здравоохранения территории (регион / муниципальное образование) – характеризует способность системы здравоохранения территории справляться с конкретными заболеваниями / совокупностью заболеваний при прочих равных условиях (fixed effects model).
Прогнозировать обращения к врачам по специальностям в муниципалитетах (по конкретным заболеваниям);
Прогнозировать показатели смертности в муниципальных образованиях по конкретным заболеваниям;
Оценивать динамику коэффициентов обращения в муниципальных образованиях к врачам по конкретным заболеваниям;
Оценивать динамику коэффициентов смертности в муниципальных образованиях по конкретным заболеваниям;

Проектные задачи (от постановщика задачи):

Построить модель, которая будет прогнозировать показатели обращения к врачам по специальностям и смертности по конкретным заболеваниям в муниципалитетах Приморского края с учетом их текущих характеристик (социально-экономические и демографические факторы, данные о смертности от болезней и записях к врачам).

Достигнутый результат: Построена модель для прогнозирования показателей обращения к врачам по специальностям и смертности по конкретным заболеваниям в муниципалитетах Приморского края на основе Neural Network by MAQ Software. Построенная модель может быть применена в других регионах при условии предоставления аналогичных данных (данные МИАЦ).
Примечания: Хоть социально-экономические и демографические факторы не были представлены для муниципальных образований Приморского края, модели были построены, так-как использование этих данных для решения задачи прогнозирования временных рядов не является обязательным.
2)Сформировать динамические карты здоровья муниципалитетов (на основе динамики коэффициентов обращения к врачам и смертности по конкретным заболеваниям, в том числе на основе этих коэффициентов в сопоставимом виде на основе выявления соответствующих фиксированных эффектов (соответствующие показатели муниципалитета, при прочих равных условиях, например, Fixed Effects Model) отражающие их способность эффективно справляться с конкретными заболеваниями.
Достигнутый результат: Разработана совокупность дашбордов, в комплексе представляющих собой динамические карты здоровья территории региона / муниципалитета, включающие в том числе:
• Мониторинг заболеваемости и смертности по направлениям заболеваний (с перспективой детализации до уровня отдельных поселений);
• Оценку вклада факторов в отклонение уровня относительной заболеваемости на территории от среднего по России. В качестве факторов используются социально-экономические показатели территории; влияние соседних территорий; эффективность системы здравоохранения по направлениям заболеваний при прочих равных условиях, рассчитанную на основе фиксированных эффектов (Fixed Effects Models). Заявленные Результаты получены и доступны для всех регионов РФ.
Примечания: Оценка вклада факторов в отклонение уровня относительной заболеваемости на территории от среднего по России, в том числе эффективности системы здравоохранения по направлениям заболеваний при прочих равных условиях пока доступна только на уровне регионов. На уровне муниципальных образований их можно получить при условии получения дополнительных данных.

Общее описание логики работы решения
Решение создано в Microsoft Power BI с подключением скриптов на языке R и результатов разработанных моделей в Stata.
Последовательность этапов работы:

Используются данные двух уровней: региональные данные (социально-экономические показатели регионов России), данные уровня муниципальных образований Приморского края (первичные данные о записях к врачам, первичные данные о смертности по конкретным заболеваниям)
Имеющиеся таблицы связаны в единую модель данных
Рассчитывается Индекс распространенности заболеваний на территории:
a.	Вычисляется среднее количество заболеваний выбранного типа на 1000 человек по всем регионам России (на основе региональных данных);
b.	Вычисляется процентное отклонение между средним по России и количеством заболеваний выбранного типа на 1000 человек в конкретном регионе;
c.	В зависимости от знака и величины отклонения региону «начисляются» / «вычитаются» баллы (например, если в регионе количество заболеваний выбранного типа на 1000 человек меньше, чем в среднем по России, отклонение будет положительным. За положительное отклонение – более 100% – «начисляется» 4 балла);
d.	Рассчитывается общая сумма баллов по совокупности заболеваний;
Рассчитывается Индекс прироста распространенности заболеваний на территории:
a.	Вычисляется средний темп прироста количества заболеваний выбранного типа на 1000 человек по всем регионам России за предыдущие 5 лет (на основе региональных данных);
b.	Вычисляется отклонение (в процентных пунктах) между средним по России и темпом прироста количества заболеваний выбранного типа на 1000 человек в конкретном регионе за предыдущие 5 лет;
c.	В зависимости от знака и величины отклонения региону «начисляются» / «вычитаются» баллы (например, если в регионе темп прироста количества заболеваний выбранного типа на 1000 человек за предыдущие 5 лет меньше, чем в среднем по России, отклонение будет положительным. За положительное отклонение – более 50 пп – «начисляется» 4 балла);
d.	Рассчитывается общая сумма баллов по совокупности заболеваний;
На основе семейства моделей пространственной авторегрессии (Spatial Autoregressive Models with Fixed Effects) в пакете Stata оценивается влияние социально-экономических факторов на уровень заболеваемости (по конкретным заболеваниям) на территории (регион / муниципальное образование)
Рассчитывается Индекс эффективности системы здравоохранения территории:
a.	На основе семейства моделей пространственной авторегрессии (Spatial Autoregressive Models with Fixed Effects) в пакете Stata оцениваются значения фиксированных эффектов при моделировании динамики отдельных заболеваний для каждого региона РФ (характеризуют способность системы здравоохранения территории справляться с конкретными заболеваниями при прочих равных условиях);
b.	Рассчитывается ранг региона по конкретному заболеванию (Индекс эффективности системы здравоохранения относительно конкретного заболевания). На основе знака и величины фиксированного эффекта территории присваивается ранг. Территория с наименьшим фиксированным эффектом имеет ранг равный 1 (система здравоохранения этой территории справляться с конкретными заболеванием при прочих равных условиях наиболее эффективно)
c.	Рассчитывается среднее значения по всем заболеваниям (Индекс эффективности системы здравоохранения территории по совокупности заболеваний)
Осуществляется прогнозирование обращения к врачам по специальностям в муниципальных образованиях (по конкретным заболеваниям) на основе Neural Network by MAQ Software;
Осуществляется прогнозирование показателей смертности в муниципальных образованиях по конкретным заболеваниям на основе Neural Network by MAQ Software;
Полученные показатели визуализируются на географической карте регионов и муниципальных образований, в табличном виде и в виде графиков с возможностью фильтрации и сравнения разных индексов для одного региона.


Требования к окружению для запуска продукта
ОС Microsoft Windows, Microsoft Power BI Desktop, среда программирования R

Сценарий сборки и запуска проекта
Запустить исполняемый файл "MEDSTATAN.pbix", перейти во вкладку "отчет"

Примеры использования
На основе анализа Индекса распространенности заболеваний на территории, Индекса прироста распространенности заболеваний на территории и Индекса эффективности системы здравоохранения для регионов РФ можно получить общую оценку текущего состояния системы здравоохранения как в целом, так и по отдельным направлениям заболеваний. Индекс распространенности заболеваний на территории показывает состояние на конкретный период времени. Индекс прироста распространенности заболеваний на территории показывает динамику этого состояния за предыдущие 5 лет.  Индекс эффективности системы здравоохранения позволяет оценить насколько система здравоохранения конкретной территории способна бороться с распространением отдельных заболеваний / совокупности заболеваний при прочих равных условиях.
Очень важно понимать, что на распространение конкретного заболевания на конкретной территории в том числе влияют социально-экономические факторы этой территории, пространственные факторы ее окружения, поэтому для оценки эффективности системы здравоохранения необходимо учесть их влияние. Для этого и необходимо рассчитывать фиксированные эффекты.
Также важным преимуществом решения является возможность сравнения значений трех индексов, например Приморский край по Индексу распространенности заболеваний на территории занимает 29 место, значение Индекса положительное, т.е. текущее состояние по количеству заболевших (по совокупности заболеваний) выше среднего по России. По Индексу прироста распространенности заболеваний на территории Приморский край занимает 63 место, значение Индекса при этом отрицательное, т.е. темп прироста количества заболеваний (по совокупности заболеваний) выше среднего по России (регион «сдает позиции»). И самое главное, почему это происходит? На это влияют социально-экономические факторы этой территории, пространственные факторы ее окружения, эффективность системы здравоохранения в Приморском крае. Наша модель позволяет выделить оценку вклада факторов в отклонение уровня относительной заболеваемости на территории от среднего по России. В качестве факторов используются социально-экономические показатели территории; влияние соседних территорий; эффективность системы здравоохранения по направлениям заболеваний, рассчитанную на основе фиксированных эффектов. Например, если вклад фактора имеет значение "-2", то это означает, что влияние данного фактора приводит к уменьшению уровня относительной (на 1000 человек) заболеваемости на территории от среднего по России на 2 человека на каждую 1000 человек.
Так в 2018 году Приморский край по Индексу эффективности системы здравоохранения по совокупности заболеваний занимает 32 место, при этом Приморский край по Индексу эффективности системы здравоохранения относительно типа заболеваний «Новообразования» занимает 40 место, вместе с тем Приморский край по Индексу эффективности системы здравоохранения относительно типа заболеваний «Новообразования» занимает 56 место.

Используемые наборы данных
Данные единого сервиса записи на прием к врачу; (Доступны данные ПК)
Сведения по смертности из ЕИС «Демография»; (Доступны данные ПК)
Социально-экономические характеристики территорий (доступны данные уровня регионов РФ)
Демографические характеристики территорий (доступны данные уровня регионов РФ)

Дополнительный инструментарий
Stata используется только для рассчета фиксированных эффектов на основе семейства моделей пространственной авторегрессии (Spatial Autoregressive Models with Fixed Effects)
Результаты рассчетов загружены в модель данных в виде отдельной таблицы

General Solution Description

Solution's logics general description

Execution environmental requirements and setup

Compilation and launch scenario

Use cases and examples

Used datasets

Additional instrumentation and tools

# mestatan
